<!DOCTYPE html>
    <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
    <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
    <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
    <!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>ANSI board</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css?=">
    </head>
    <body onload="convertImages()">
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please 
            <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        
        <div class="header">
            <img src="resources/crow.ans">

            <div class="container">
                <a href="https://neuthral.github.io">
                    <i class="green-text">█▀▀▄ █▀▀ █░░█ ▀▀█▀▀ █░░█ █▀▀█ █▀▀█ █░░</i><i class="light-text"> ░ █▀▀▀ ░▀░ ▀▀█▀▀ █░░█ █░░█ █▀▀▄ ░</i><i class="blue-text"> ░▀░ █▀▀█</i><br>
                    <i class="green-text">█░░█ █▀▀ █░░█ ░░█░░ █▀▀█ █▄▄▀ █▄▄█ █░░</i><i class="light-text"> ░ █░▀█ ▀█▀ ░░█░░ █▀▀█ █░░█ █▀▀▄ ░</i><i class="blue-text"> ▀█▀ █░░█</i><br>
                    <i class="green-text">▀░░▀ ▀▀▀ ░▀▀▀ ░░▀░░ ▀░░▀ ▀░▀▀ ▀░░▀ ▀▀▀</i><i class="light-text"> ▀ ▀▀▀▀ ▀▀▀ ░░▀░░ ▀░░▀ ░▀▀▀ ▀▀▀░ ▀</i><i class="blue-text"> ▀▀▀ ▀▀▀▀</i><br>
                </a>
                <br>
                <span class="light-text">
                    <a class="green-text">ANSI</a>
                    <a class="red-text">art</a>
                    in img tags
                </span>
                <br>
                <p class="light-text">
                    credit goes to <b class="green-text">github.com/drudru/ansi_up</b> for ansi-to-html converter in JS
                    <br>
                    and <b class="green-text">github.com/hzeller/timg</b> for converting images in terminal to ansi-text
                </p>
            </div>
            <div class="container">
                <ul class="ul-links">
                    <li><img src="resources/hivemind.ans"></li>
                    <li><img src="resources/ring.ans"></li>
                    <li><img src="resources/spider.ans"></li>
                    <li><img src="resources/icon.ans"></li>
                </ul>
            </div>
        </div>
        
        <script src="ansi_up.js" type="text/javascript"></script>
        <!-- <script src="wsock.js" type="text/javascript"></script> -->
        <script type="text/javascript">
            // 
            var ansi_up = new AnsiUp            
            
            function convertImages() {
                // scan the document for img elements and convert to pre
                document.querySelectorAll('img').forEach(el => {
                    fetch(el.currentSrc, {mode: 'no-cors'})
                        .then(res => {
                            if(!res.ok) throw Error(res.statusText)
                            return res.text()
                        })
                        .then(res => {
                            const preEl = document.createElement('pre')
                            preEl.innerHTML = (ansi_up.ansi_to_html(res))
                            preEl.id = Date.now()
                            preEl.setAttribute('title', el.src)
                            preEl.classList.add('ansi-element')
                            
                            el.insertAdjacentElement('afterEnd', preEl)
                            el.remove()
                            
                            console.log(preEl.id, ` \n${preEl}`)
                        })
                        .catch(console.error)
                    
                })
            }

        </script>
        
    
    </body>
</html>