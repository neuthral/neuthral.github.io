<!DOCTYPE html>
    <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
    <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
    <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
    <!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>ANSI board</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css">
    </head>
    <body onload="convertImages()">
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please 
            <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        
        <div class="header">
            <img src="crow.ans">

            <div class="container">
                <span class="light-text">
                    <a class="green-text">ANSI</a>
                    <a class="red-text">art</a>
                    for browsers ...
                </span>

                <footer>
                    <img src="github.ans">
                    <br>
                    <a href="//neuthral.github.io">neuthral.github.io</a>
                </footer>
            </div>
        </div>

        <script src="ansi_up.js" type="text/javascript"></script>
        <!-- <script src="wsock.js" type="text/javascript"></script> -->
        <script type="text/javascript">
            // 
            var ansi_up = new AnsiUp            
            var arts = [
                './spider.ans',
                './illumina.ans',
                './hivemind.ans'
            ]
            var ansElements = []

            function convertImages() {
                document.querySelectorAll('img').forEach(el => {
                    fetch(el.src)
                        .then(res => res.text())
                        .then(res => {
                            const preEl = document.createElement('pre')
                            preEl.innerHTML = (ansi_up.ansi_to_html(res))
                            preEl.id = Date.now()
                            preEl.setAttribute('title', el.src)
                            preEl.classList.add('ansi-element')
                            
                            el.insertAdjacentElement('afterEnd', preEl)
                            el.classList.add('hide')
                            
                            console.log(preEl.id, ` \n${res}`)
                        })
                    
                })
            }
            

        </script>
        
    
    </body>
</html>